---
layout: post
title: C++ 程序结束时运行
categories: [CS, C++]
tags: [c++]
---

std::atexit 可以加载函数，使其在程序结束时运行。

如果std::atexit出现多次，则对应函数也会执行多次。

```cpp
#include <iostream>
#include <cstdlib>

void cleanup() {
	std::cout << "清理资源..." << std::endl;
	// 在这里添加清理代码
}

int main() {
	std::atexit(cleanup);
	std::atexit(cleanup);
	std::cout << "程序正在运行..." << std::endl;
	return 0;
}
```
